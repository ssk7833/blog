<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>北風筆記</title>
  <subtitle>紀錄一些學習心得、過程及日常</subtitle>
  <link href="/blog/atom.xml" rel="self"/>
  
  <link href="http://ssk7833.github.io/blog/"/>
  <updated>2016-04-08T03:51:06.137Z</updated>
  <id>http://ssk7833.github.io/blog/</id>
  
  <author>
    <name>North</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Parse Server 架設教學</title>
    <link href="http://ssk7833.github.io/blog/2016/04/09/setup-parse-server/"/>
    <id>http://ssk7833.github.io/blog/2016/04/09/setup-parse-server/</id>
    <published>2016-04-09T03:33:05.000Z</published>
    <updated>2016-04-08T03:51:06.137Z</updated>
    
    <content type="html">&lt;p&gt;在今年一月底時 &lt;a href=&quot;http://parse.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Parse&lt;/a&gt; 突然丟下了一枚震撼彈(&lt;a href=&quot;http://blog.parse.com/announcements/moving-on/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Moving On&lt;/a&gt;)，隨著 Parse 服務將在一年後關閉的消息，同時也提到將會把 Parse Server open source 出來，如今兩個月過去了，釋出的 Parse Server 也趨於完善，不只提供了許多雲端服務的整合方案，連 Parse Dashboard 也在三月初時 open source 了(&lt;a href=&quot;http://blog.parse.com/announcements/introducing-the-parse-server-dashboard/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Introducing the Parse Server Dashboard&lt;/a&gt;)，雖然這個 Dashboard 目前並不像 Parse 線上服務的功能一樣完整，但在短短一個月內間又多了推播(push notification)功能頁面(&lt;a href=&quot;http://blog.parse.com/announcements/push-and-config-come-to-the-parse-dashboard/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Push and Config come to the Parse Dashboard&lt;/a&gt;)，可以預見未來功能會越來越完整。&lt;/p&gt;
&lt;p&gt;單純架設 Parse Server 的難度不高，在 &lt;a href=&quot;https://github.com/ParsePlatform/parse-server&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt; 有對於要在 local 架設或是部屬到其他服務上如 Heroku 的範例教學，&lt;a href=&quot;https://github.com/ParsePlatform/parse-server/wiki&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;wiki&lt;/a&gt; 頁面也有更完整的解說，但從這裡開始我個人認為不是個好選擇，以指令方式去帶 appId 及 masterKey 總有可能會發生什麼意外。Parse 另外提供了 &lt;a href=&quot;https://github.com/ParsePlatform/parse-server-example&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;parse-server-example&lt;/a&gt;，這個對於入門來說會比較方便。&lt;/p&gt;
&lt;h2 id=&quot;前置環境&quot;&gt;&lt;a href=&quot;#前置環境&quot; class=&quot;headerlink&quot; title=&quot;前置環境&quot;&gt;&lt;/a&gt;前置環境&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Node 4.3 以上&lt;/li&gt;
&lt;li&gt;MongoDB version 2.6.X or 3.0.X&lt;/li&gt;
&lt;li&gt;Python 2.x (For Windows users, 2.7.1 is the required version)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;架設-Parse-Server&quot;&gt;&lt;a href=&quot;#架設-Parse-Server&quot; class=&quot;headerlink&quot; title=&quot;架設 Parse Server&quot;&gt;&lt;/a&gt;架設 Parse Server&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;先從 GitHub 上抓一份 parse-server-example 下來。&lt;/p&gt;
&lt;figure class=&quot;highlight crmsh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ git &lt;span class=&quot;keyword&quot;&gt;clone&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;https&lt;/span&gt;://github.com/ParsePlatform/parse-server-example.git --depth &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;將必要的模組裝上。&lt;/p&gt;
&lt;figure class=&quot;highlight cmake&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ npm &lt;span class=&quot;keyword&quot;&gt;install&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;在 &lt;code&gt;index.js&lt;/code&gt; 中修改參數，可以選擇修改環境變數或是直接修改後面字串：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;appId: 可填任意字串，用於識別 Parse API 的使用權限。在這裡用了 &lt;code&gt;md5&lt;/code&gt; 來產生隨機字串。&lt;/li&gt;
&lt;li&gt;masterKey: 可填任意字串，但不要公開此字串，用於覆寫權限設定。&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight mel&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;var api = new ParseServer(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  databaseURI: databaseUri || &lt;span class=&quot;string&quot;&gt;&#39;mongodb://localhost:27017/dev&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  cloud: process.&lt;span class=&quot;keyword&quot;&gt;env&lt;/span&gt;.CLOUD_CODE_MAIN || __dirname + &lt;span class=&quot;string&quot;&gt;&#39;/cloud/main.js&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  appId: process.&lt;span class=&quot;keyword&quot;&gt;env&lt;/span&gt;.APP_ID || &lt;span class=&quot;string&quot;&gt;&#39;7c6a1d1470fed0313b5044c4eb83def0&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  masterKey: process.&lt;span class=&quot;keyword&quot;&gt;env&lt;/span&gt;.MASTER_KEY || &lt;span class=&quot;string&quot;&gt;&#39;98584a6e0a2592c274d1e4eae44b0a7b&#39;&lt;/span&gt;, &lt;span class=&quot;comment&quot;&gt;//Add your master key here. Keep it secret!&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  serverURL: process.&lt;span class=&quot;keyword&quot;&gt;env&lt;/span&gt;.SERVER_URL || &lt;span class=&quot;string&quot;&gt;&#39;http://localhost:1337/parse&#39;&lt;/span&gt;,  &lt;span class=&quot;comment&quot;&gt;// Don&#39;t forget to change to https if needed&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  liveQuery: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    classNames: [&lt;span class=&quot;string&quot;&gt;&quot;Posts&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;Comments&quot;&lt;/span&gt;] &lt;span class=&quot;comment&quot;&gt;// List of classes to support for query subscriptions&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;到這裡可以先執行看看。&lt;/p&gt;
&lt;figure class=&quot;highlight applescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ npm &lt;span class=&quot;command&quot;&gt;run&lt;/span&gt; start&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;此時 Parse API 預設會掛在 &lt;a href=&quot;http://localhost:1337/parse/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://localhost:1337/parse/&lt;/a&gt; 下，有兩種方式可以測試是否運作正常：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;直接到第五步驟，利用此包程式碼中的範例網頁來測試。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;curl&lt;/code&gt; 來測試 Parse 的 REST API 是否正常運作，&lt;code&gt;X-Parse-Application-Id&lt;/code&gt; 需改成在 &lt;code&gt;index.js&lt;/code&gt; 中設定的 &lt;code&gt;appId&lt;/code&gt;。&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight stata&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;curl -X &lt;span class=&quot;keyword&quot;&gt;POST&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-&lt;span class=&quot;keyword&quot;&gt;H&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;X-Parse-Application-Id: 7c6a1d1470fed0313b5044c4eb83def0&quot;&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-&lt;span class=&quot;keyword&quot;&gt;H&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Content-Type: application/json&quot;&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-&lt;span class=&quot;keyword&quot;&gt;d&lt;/span&gt; &#39;&amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;score&quot;&lt;/span&gt;:1337,&lt;span class=&quot;string&quot;&gt;&quot;playerName&quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;Sean Plott&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;cheatMode&quot;&lt;/span&gt;:false&amp;#125;&#39; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;http:&lt;span class=&quot;comment&quot;&gt;//localhost:1337/parse/classes/GameScore&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;若正常無誤會得到以下類似的結果：&lt;/p&gt;
&lt;figure class=&quot;highlight json&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &quot;&lt;span class=&quot;attribute&quot;&gt;objectId&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;CT8BWvZ8Fi&quot;&lt;/span&gt;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &quot;&lt;span class=&quot;attribute&quot;&gt;createdAt&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;2016-04-08T02:55:57.802Z&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;取值可利用以下指令來測試，&lt;code&gt;GameScore&lt;/code&gt; 後面需加上剛剛回傳的 &lt;code&gt;objectId&lt;/code&gt;：&lt;/p&gt;
&lt;figure class=&quot;highlight elixir&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;curl -&lt;span class=&quot;constant&quot;&gt;X GET &lt;/span&gt;\&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  -&lt;span class=&quot;constant&quot;&gt;H &lt;/span&gt;&lt;span class=&quot;string&quot;&gt;&quot;X-Parse-Application-Id: 7c6a1d1470fed0313b5044c4eb83def0&quot;&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;symbol&quot;&gt;http:&lt;/span&gt;/&lt;span class=&quot;regexp&quot;&gt;/localhost:1337/parse&lt;/span&gt;&lt;span class=&quot;regexp&quot;&gt;/classes/&lt;/span&gt;&lt;span class=&quot;constant&quot;&gt;GameScore/CT8BWvZ8Fi&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;正常的話即可拿回上一步所傳的內容：&lt;/p&gt;
&lt;figure class=&quot;highlight json&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &quot;&lt;span class=&quot;attribute&quot;&gt;objectId&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;CT8BWvZ8Fi&quot;&lt;/span&gt;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &quot;&lt;span class=&quot;attribute&quot;&gt;score&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;number&quot;&gt;1337&lt;/span&gt;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &quot;&lt;span class=&quot;attribute&quot;&gt;playerName&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;Sean Plott&quot;&lt;/span&gt;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &quot;&lt;span class=&quot;attribute&quot;&gt;cheatMode&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &quot;&lt;span class=&quot;attribute&quot;&gt;updatedAt&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;2016-04-08T02:55:57.802Z&quot;&lt;/span&gt;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &quot;&lt;span class=&quot;attribute&quot;&gt;createdAt&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;2016-04-08T02:55:57.802Z&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;詳細操作可參考 &lt;a href=&quot;https://parse.com/docs/rest/guide/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;REST API Guide&lt;/a&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;在這個範例中有提供 REST API 及 Cloud Code 的測試程式碼，可以執行看看功能是否正常。&lt;br&gt;在 &lt;code&gt;public/assets/js/script.js&lt;/code&gt; 中，將 &lt;code&gt;myAppId&lt;/code&gt; 取代成自己目前的 &lt;code&gt;appId&lt;/code&gt;，共有兩處；接著開啟 &lt;a href=&quot;http://localhost:1337/public/test.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://localhost:1337/public/test.html&lt;/a&gt; 即可看到測試頁面，依序點選下方的 &lt;code&gt;POST&lt;/code&gt;, &lt;code&gt;FETCH&lt;/code&gt; 及 &lt;code&gt;TEST&lt;/code&gt;，若正確無誤的話應能看到以下結果：&lt;br&gt;&lt;img src=&quot;/blog/images/ParseServerTest.png&quot; alt=&quot;Parse Server Test&quot; title=&quot;Parse Server Test&quot;&gt;&lt;br&gt;看到這個結果就代表 REST API 及 Cloud Code 都沒有問題，下一步就看自己是不是要加推播通知的設定及 Dashboard 了！&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;參考資料：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/ParsePlatform/parse-server&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;parse-server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/ParsePlatform/parse-server/wiki&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;parse-server wiki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/ParsePlatform/parse-server-example&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;parse-server-example&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/ParsePlatform/parse-server/issues&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;parse-server issues&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;在今年一月底時 &lt;a href=&quot;http://parse.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Parse&lt;/a&gt; 突然丟下了一枚震撼彈(&lt;a href=&quot;http://blog.parse.com/announcements/movi
    
    </summary>
    
      <category term="study" scheme="http://ssk7833.github.io/blog/categories/study/"/>
    
    
      <category term="CloudCode" scheme="http://ssk7833.github.io/blog/tags/CloudCode/"/>
    
      <category term="Parse server" scheme="http://ssk7833.github.io/blog/tags/Parse-server/"/>
    
      <category term="Parse.com" scheme="http://ssk7833.github.io/blog/tags/Parse-com/"/>
    
      <category term="node.js" scheme="http://ssk7833.github.io/blog/tags/node-js/"/>
    
  </entry>
  
  <entry>
    <title>Do it smart, a better way to write CSS - SASS/SCSS</title>
    <link href="http://ssk7833.github.io/blog/2016/03/30/do-it-smart-a-better-way-to-write-CSS/"/>
    <id>http://ssk7833.github.io/blog/2016/03/30/do-it-smart-a-better-way-to-write-CSS/</id>
    <published>2016-03-30T06:49:50.000Z</published>
    <updated>2016-04-08T03:51:06.137Z</updated>
    
    <content type="html">&lt;p&gt;最近在會議中分享了以下這份投影片，算是一個 SASS/SCSS 的入門。我擷取了部分常用的基礎功能及寫法範例，希望對入門者有些幫助。&lt;/p&gt;
&lt;p&gt;&lt;iframe src=&quot;https://ssk7833.github.io/slides/SCSS/&quot; width=&quot;640&quot; height=&quot;480&quot; style=&quot;width:100%;&quot;&gt;&lt;/iframe&gt;&lt;br&gt;&lt;a href=&quot;https://ssk7833.github.io/slides/SCSS/&quot;&gt;Do it smart, a better way to write CSS - SASS/SCSS&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;最近在會議中分享了以下這份投影片，算是一個 SASS/SCSS 的入門。我擷取了部分常用的基礎功能及寫法範例，希望對入門者有些幫助。&lt;/p&gt;
&lt;p&gt;&lt;iframe src=&quot;https://ssk7833.github.io/slides/SCSS/&quot; width=&quot;640
    
    </summary>
    
      <category term="study" scheme="http://ssk7833.github.io/blog/categories/study/"/>
    
    
      <category term="CSS" scheme="http://ssk7833.github.io/blog/tags/CSS/"/>
    
      <category term="SASS" scheme="http://ssk7833.github.io/blog/tags/SASS/"/>
    
      <category term="SCSS" scheme="http://ssk7833.github.io/blog/tags/SCSS/"/>
    
  </entry>
  
  <entry>
    <title>實作 gooey 膠粘效果</title>
    <link href="http://ssk7833.github.io/blog/2016/03/09/implement-gooey-effect/"/>
    <id>http://ssk7833.github.io/blog/2016/03/09/implement-gooey-effect/</id>
    <published>2016-03-09T05:48:05.000Z</published>
    <updated>2016-04-08T03:51:06.137Z</updated>
    
    <content type="html">&lt;p&gt;最近在試著實作 gooey 效果，看了一些介紹後知道了 gooey 的原理，本以為在實作上可以一路順風，但果然沒有這麼簡單，還好最後有找到解決方法。&lt;/p&gt;
&lt;p&gt;先來談談 gooey 的作法，首先要先有兩層 layer，內層將物件模糊 blur，而外層處理亮度 brightness 跟對比度 contrast，接著神奇的事情就會發生了，可以參考以下範例：&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;p data-height=&quot;380&quot; data-theme-id=&quot;0&quot; data-slug-hash=&quot;lIBAg&quot; data-default-tab=&quot;result&quot; data-user=&quot;chriscoyier&quot; class=&quot;codepen&quot;&gt;See the Pen &lt;a href=&quot;http://codepen.io/chriscoyier/pen/lIBAg/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Blur vs Contrast&lt;/a&gt; by Chris Coyier (&lt;a href=&quot;http://codepen.io/chriscoyier&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;@chriscoyier&lt;/a&gt;) on &lt;a href=&quot;http://codepen.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CodePen&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
&lt;script async src=&quot;//assets.codepen.io/assets/embed/ei.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;上層是只加了模糊，可以看到因為模糊的關係，物件間的顏色互相疊加在一起；下層則是調整對比後的結果，將模糊過的結果保留重疊及原本顏色較深的部分，濾掉顏色較淺的部分，物件間的部分就因此連起來了，若是加上動畫，效果就會更好：&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;p data-height=&quot;330&quot; data-theme-id=&quot;0&quot; data-slug-hash=&quot;lFdHu&quot; data-default-tab=&quot;result&quot; data-user=&quot;lbebber&quot; class=&quot;codepen&quot;&gt;See the Pen &lt;a href=&quot;http://codepen.io/lbebber/pen/lFdHu/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Gooey Pagination&lt;/a&gt; by Lucas Bebber (&lt;a href=&quot;http://codepen.io/lbebber&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;@lbebber&lt;/a&gt;) on &lt;a href=&quot;http://codepen.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CodePen&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
&lt;script async src=&quot;//assets.codepen.io/assets/embed/ei.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;這樣看似已經完成了，但實際上會遇到兩個問題：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;內部物件模糊掉，使用了 &lt;code&gt;filter: blur();&lt;/code&gt; 後，子元素無一倖免。&lt;/li&gt;
&lt;li&gt;更改顏色，所有更改顏色都會因對比而偏移掉。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;原本就是卡在這裡，不管怎麼調整都沒辦法有效的解決這兩項，後來看到了 &lt;a href=&quot;http://tympanus.net/codrops/2015/03/10/creative-gooey-effects/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Creative Gooey Effects&lt;/a&gt; 這篇才知道可以利用 &lt;code&gt;fliter: url();&lt;/code&gt; 配合 SVG filters 來解決這兩個問題，且用法也很簡單。此方法在 &lt;a href=&quot;https://css-tricks.com/gooey-effect/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;The Gooey Effect&lt;/a&gt; 中描述的更加清楚，包含在 &lt;code&gt;feColorMatrix&lt;/code&gt; 中的 values 為什麼是下表也有描述，若是對他的敘述不清楚的話可以先看 &lt;a href=&quot;http://www.oxxostudio.tw/articles/201406/svg-11-filter-feColorMatrix.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SVG 研究之路 (11) - filter:feColorMatrix&lt;/a&gt; 稍微釐清一下。&lt;/p&gt;
&lt;p&gt;簡單來說，若是沒有特別需求，就去調整 color matrix 中的 alpha channel (A) 跟 plus(+) 中值來得到自己想要的結果。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;*&lt;/th&gt;
&lt;th&gt;R&lt;/th&gt;
&lt;th&gt;G&lt;/th&gt;
&lt;th&gt;B&lt;/th&gt;
&lt;th&gt;A&lt;/th&gt;
&lt;th&gt;+&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;R&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;G&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;B&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;A&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;18&lt;/td&gt;
&lt;td&gt;-7&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;以下是我在測試時寫的比較：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;用純 CSS 處理，背景與下一項的顏色設定相同，但呈現出 &lt;code&gt;#0000FF&lt;/code&gt; 的藍色。&lt;br&gt;&lt;p data-height=&quot;200&quot; data-theme-id=&quot;0&quot; data-slug-hash=&quot;mPeEEG&quot; data-default-tab=&quot;result&quot; data-user=&quot;ssk7833&quot; class=&quot;codepen&quot;&gt;See the Pen &lt;a href=&quot;http://codepen.io/ssk7833/pen/mPeEEG/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Rotate loading (bad with and text)&lt;/a&gt; by North (&lt;a href=&quot;http://codepen.io/ssk7833&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;@ssk7833&lt;/a&gt;) on &lt;a href=&quot;http://codepen.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CodePen&lt;/a&gt;.&lt;/p&gt;&lt;script async src=&quot;//assets.codepen.io/assets/embed/ei.js&quot;&gt;&lt;/script&gt;&lt;/li&gt;
&lt;li&gt;用 SVG 處理，上一版的改良，在元素中放文字將會正常顯示。&lt;br&gt;&lt;p data-height=&quot;200&quot; data-theme-id=&quot;0&quot; data-slug-hash=&quot;dMGpXQ&quot; data-default-tab=&quot;result&quot; data-user=&quot;ssk7833&quot; class=&quot;codepen&quot;&gt;See the Pen &lt;a href=&quot;http://codepen.io/ssk7833/pen/dMGpXQ/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Gooey rotate loading (good with background and text)&lt;/a&gt; by North (&lt;a href=&quot;http://codepen.io/ssk7833&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;@ssk7833&lt;/a&gt;) on &lt;a href=&quot;http://codepen.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CodePen&lt;/a&gt;.&lt;/p&gt;&lt;script async src=&quot;//assets.codepen.io/assets/embed/ei.js&quot;&gt;&lt;/script&gt;&lt;/li&gt;
&lt;li&gt;將第二版的顏色稍加調整，移除 &lt;code&gt;feBlend&lt;/code&gt; 後由於失去 &lt;code&gt;SourceGraphic&lt;/code&gt; 的關係，文字將不會正常顯示，但此效果我更喜歡。&lt;br&gt;&lt;p data-height=&quot;200&quot; data-theme-id=&quot;0&quot; data-slug-hash=&quot;oxbBRy&quot; data-default-tab=&quot;result&quot; data-user=&quot;ssk7833&quot; class=&quot;codepen&quot;&gt;See the Pen &lt;a href=&quot;http://codepen.io/ssk7833/pen/oxbBRy/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Gooey rotate loading (good with only background)&lt;/a&gt; by North (&lt;a href=&quot;http://codepen.io/ssk7833&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;@ssk7833&lt;/a&gt;) on &lt;a href=&quot;http://codepen.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CodePen&lt;/a&gt;.&lt;/p&gt;&lt;script async src=&quot;//assets.codepen.io/assets/embed/ei.js&quot;&gt;&lt;/script&gt;

&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;在寫上述三項測試時，自己也試過許多不同的組合，對 SVG filters 也多了許多理解，而在 gooey 相關的效果基本上就是 &lt;code&gt;feGaussianBlur&lt;/code&gt;、&lt;code&gt;feColorMatrix&lt;/code&gt; 和 &lt;code&gt;feBlend&lt;/code&gt; 的變化所組成，未來若遇到類似需求時應該都能迎刃而解～&lt;/p&gt;
&lt;p&gt;參考資料：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;https://css-tricks.com/shape-blobbing-css/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Shape Blobbing in CSS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.oxxostudio.tw/articles/201408/sticky-ball.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;噁心黏黏球( 純 CSS )&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://tympanus.net/codrops/2015/03/10/creative-gooey-effects/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Creative Gooey Effects&lt;/a&gt;  底下有幾個動畫範例值得一看&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://css-tricks.com/gooey-effect/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;The Gooey Effect&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.oxxostudio.tw/articles/201406/svg-11-filter-feColorMatrix.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SVG 研究之路 (11) - filter:feColorMatrix&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;最近在試著實作 gooey 效果，看了一些介紹後知道了 gooey 的原理，本以為在實作上可以一路順風，但果然沒有這麼簡單，還好最後有找到解決方法。&lt;/p&gt;
&lt;p&gt;先來談談 gooey 的作法，首先要先有兩層 layer，內層將物件模糊 blur，而外層處理亮度 brigh
    
    </summary>
    
      <category term="study" scheme="http://ssk7833.github.io/blog/categories/study/"/>
    
    
      <category term="CSS" scheme="http://ssk7833.github.io/blog/tags/CSS/"/>
    
      <category term="SVG" scheme="http://ssk7833.github.io/blog/tags/SVG/"/>
    
      <category term="gooey" scheme="http://ssk7833.github.io/blog/tags/gooey/"/>
    
  </entry>
  
  <entry>
    <title>使用 Travis CI 自動部署 GitHub Pages</title>
    <link href="http://ssk7833.github.io/blog/2016/01/21/using-TravisCI-to-deploy-on-GitHub-pages/"/>
    <id>http://ssk7833.github.io/blog/2016/01/21/using-TravisCI-to-deploy-on-GitHub-pages/</id>
    <published>2016-01-21T08:23:05.000Z</published>
    <updated>2016-04-08T03:51:06.137Z</updated>
    
    <content type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;先前看到了&lt;a href=&quot;https://samkuo.me/post/2015/09/why-developers-should-have-a-blog/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;程式人就該有個部落格&lt;/a&gt;，想想這個主意不錯，之前有在 Blogger 及 Logdown 零星寫了幾篇文章，也曾經想過自己架靜態或動態網站，只是一直沒有去做，看完這篇讓我更有動力去做這件事。研究一陣子後我選擇直接利用 Github pages 來發佈網站，於是開始調查 &lt;a href=&quot;https://www.staticgen.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;StaticGen&lt;/a&gt; 上排名較高的幾個，而最後挑選了 &lt;a href=&quot;https://hexo.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;：是台灣人寫的，而且是 javascript。&lt;/p&gt;
&lt;p&gt;自己完成 Hexo 初步設定，產生第一版頁面後不久就遇到兩個問題：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;能不能將每次都要發佈的這個動作自動化。&lt;/li&gt;
&lt;li&gt;如果我換到其他電腦上，而其他電腦可能沒有 Hexo 時會很不方便，可能要選擇安裝一次 node.js 及 hexo，甚至根本沒安裝權限；若是能直接利用 GitHub 線上編輯 markdown 文件就能產生的話有多棒。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;因為這兩點，我決定開始我的 Travis CI 初體驗。&lt;/p&gt;
&lt;h2 id=&quot;關於-Travis-CI&quot;&gt;&lt;a href=&quot;#關於-Travis-CI&quot; class=&quot;headerlink&quot; title=&quot;關於 Travis CI&quot;&gt;&lt;/a&gt;關於 Travis CI&lt;/h2&gt;&lt;p&gt;簡單來說，持續整合 (Continuous integration，縮寫為 CI)是在開發過程中，有任何變更都自動且持續的整合到目前的版本中。整合包含測試及發佈，可根據自訂的測試內容產生可視化的結果，方便開發人員快速找到問題所在，並且在測試通過後自動執行已撰寫的腳本，以達到自動發佈的功能。要達到持續整合，需有一個伺服器專門監聽程式版本的改動，一旦有變動就執行事先撰寫的測試及部署腳本。&lt;/p&gt;
&lt;p&gt;Travis CI 提供在 GitHub 上的任何公開的 repo 都可以免費的使用 CI 服務，Travis CI 與 GitHub 的適性很好（也只提供使用 GitHub 帳號登入），廣受 GitHub 上使用，因此在這裡也使用 Travis CI 所提供的服務來產生靜態網站。&lt;/p&gt;
&lt;p&gt;初次接觸 CI 可以先從官方提供的範例檔開始：&lt;a href=&quot;https://docs.travis-ci.com/user/for-beginners&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Travis CI for Complete Beginners&lt;/a&gt;，以便能有一些基礎概念，接著再開始挑選 &lt;a href=&quot;https://docs.travis-ci.com/user/getting-started/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Getting started&lt;/a&gt; 中的項目學習設定與操作。&lt;/p&gt;
&lt;p&gt;我的目標很明確，想要弄出在同一個 repo 下，一個 branch 是放 source code 的 master，另一個 branch 則是發佈用的 gh-pages。每當我 master 有更新時 gh-pages 也會自動透過 Travis CI 更新，如下圖，經過幾次測試後終於成功，最後 branch 的點呈現交錯成長：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/images/sourceTree.png&quot; alt=&quot;branch&quot; title=&quot;branch&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;給予-Travis-CI-push-的權限&quot;&gt;&lt;a href=&quot;#給予-Travis-CI-push-的權限&quot; class=&quot;headerlink&quot; title=&quot;給予 Travis CI push 的權限&quot;&gt;&lt;/a&gt;給予 Travis CI push 的權限&lt;/h2&gt;&lt;p&gt;由於發佈到 gh-pages 要交給 Travis CI 處理，需要 GitHub 帳號的驗證，而在 public repo 下不可能直接把密碼直接放在 source 中，因此在這裡選擇 GitHub 所提供的 &lt;a href=&quot;https://github.com/settings/tokens&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Personal access tokens&lt;/a&gt; 來處理權限的問題，用 Personal access token 的好處在於是個人創建的，可以隨時刪除 token 以取消存取權限，再加上 Travis CI 在文件中提到的 &lt;a href=&quot;https://docs.travis-ci.com/user/encryption-keys/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Encryption keys&lt;/a&gt; 來處理敏感資料，通過環境變數的方式傳遞給腳本，以避免密碼及 token 公開出來。&lt;/p&gt;
&lt;p&gt;首先先產生一個 access token，因為目的只有讓 Travis CI 可以讀取 public repo，因此勾選 public repo 即可。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/images/personalAccessToken.png&quot; alt=&quot;personal access token&quot; title=&quot;personal access token&quot;&gt;&lt;/p&gt;
&lt;p&gt;接著先將產生的 token 妥善複製，未來只能 regenerate 一組新的 token，再也無法從 GitHub 調出目前這組。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/images/generatedToken.png&quot; alt=&quot;generated token&quot; title=&quot;generated token&quot;&gt;&lt;/p&gt;
&lt;p&gt;接著利用 Travis CLI 來處理敏感資料，較方便的方式是利用 ruby 的 gem 來安裝 Travis CLI：&lt;/p&gt;
&lt;figure class=&quot;highlight cmake&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;gem &lt;span class=&quot;keyword&quot;&gt;install&lt;/span&gt; travis&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;安裝完畢後，接著到想設定 Travis CI 的 repo 目錄中執行 &lt;code&gt;travis login&lt;/code&gt; 來驗證身分，之後執行 &lt;code&gt;travis init&lt;/code&gt;，會先詢問使用的語言，且產生 &lt;code&gt;.travis.yml&lt;/code&gt;，接著在同一目錄下執行此指令，記得將 &lt;code&gt;&amp;lt;Personal Access Token&amp;gt;&lt;/code&gt; 取代成先前複製的那組：&lt;/p&gt;
&lt;figure class=&quot;highlight vhdl&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;travis encrypt &lt;span class=&quot;attribute&quot;&gt;&#39;GIT_NAME&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;North&quot;&lt;/span&gt; GIT_EMAIL=ssk7833@gmail.com GH_TOKEN=&amp;lt;Personal &lt;span class=&quot;keyword&quot;&gt;Access&lt;/span&gt; Token&amp;gt;&#39; &lt;span class=&quot;comment&quot;&gt;--add&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;即可看到在 .travis.yml 中多了&lt;/p&gt;
&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;env&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;global&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;secrue&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;long secure base64 string&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;這一串將在每次 CI 進行時設定環境變數，這邊環境變數即可在接下來的腳本中使用。&lt;/p&gt;
&lt;h2 id=&quot;設定-travis-yml-檔&quot;&gt;&lt;a href=&quot;#設定-travis-yml-檔&quot; class=&quot;headerlink&quot; title=&quot;設定 .travis.yml 檔&quot;&gt;&lt;/a&gt;設定 .travis.yml 檔&lt;/h2&gt;&lt;p&gt;編輯 .travis.yml 前，可以先閱讀一下 Travis CI 的 &lt;a href=&quot;https://docs.travis-ci.com/user/customizing-the-build/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Build Lifecycle&lt;/a&gt;，以下是我粗略的設定：&lt;/p&gt;
&lt;figure class=&quot;highlight http&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;language&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;node_js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;haml&quot;&gt;node_js:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  -&lt;span class=&quot;ruby&quot;&gt; &lt;span class=&quot;string&quot;&gt;&quot;4.0&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;env:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  global:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    secure:  &quot;long secure base64 string&quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;install:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  -&lt;span class=&quot;ruby&quot;&gt; npm install&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;script:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  # Set Git config&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  -&lt;span class=&quot;ruby&quot;&gt; git config --global user.name &lt;span class=&quot;string&quot;&gt;&quot;$GIT_NAME&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;  -&lt;span class=&quot;ruby&quot;&gt; git config --global user.email &lt;span class=&quot;string&quot;&gt;&quot;$GIT_EMAIL&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;  -&lt;span class=&quot;ruby&quot;&gt; git config --global push.default simple&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;  -&lt;span class=&quot;ruby&quot;&gt; git clone --depth &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; --branch gh-pages &lt;span class=&quot;symbol&quot;&gt;https:&lt;/span&gt;/&lt;span class=&quot;regexp&quot;&gt;/$GH_TOKEN@github.com/ssk&lt;/span&gt;7833/blog public&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;  # Generate Hexo static pages&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  -&lt;span class=&quot;ruby&quot;&gt; npm run generate&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;  -&lt;span class=&quot;ruby&quot;&gt; cd public&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;  -&lt;span class=&quot;ruby&quot;&gt; git add -&lt;span class=&quot;constant&quot;&gt;A&lt;/span&gt; .&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;  -&lt;span class=&quot;ruby&quot;&gt; &lt;span class=&quot;constant&quot;&gt;MESSAGE&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;`date +\ %Y-%m-%d\ %H:%M:%S`&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;  -&lt;span class=&quot;ruby&quot;&gt; git commit -m &lt;span class=&quot;string&quot;&gt;&quot;Site updated:$MESSAGE&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;  -&lt;span class=&quot;ruby&quot;&gt; git push --quiet&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;node.js 的套件 dependencies 都已先用 package.json 存下，因此在 install 的部分只需使用 npm install；在 script 中完成部分指令，但因為沒特殊需求，只有設定 git 及產生靜態頁面，因此讓它一路到底。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;注意：git push 時一定要加 &lt;code&gt;--quiet&lt;/code&gt;，否則先前設定的 Personal Access Token 將會印出，這樣就失去加密意義了。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;結果可以在 Travis CI 的網頁上看到，可以瀏覽各次的狀況，像我最近的 &lt;a href=&quot;https://travis-ci.org/ssk7833/blog/builds/101307260&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;push 結果&lt;/a&gt;及先前測試的&lt;a href=&quot;https://travis-ci.org/ssk7833/blog/builds/100311173&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;失敗結果&lt;/a&gt;都可以在 Build history 中瀏覽到。&lt;/p&gt;
&lt;h2 id=&quot;在-GitHub-上發佈／編輯&quot;&gt;&lt;a href=&quot;#在-GitHub-上發佈／編輯&quot; class=&quot;headerlink&quot; title=&quot;在 GitHub 上發佈／編輯&quot;&gt;&lt;/a&gt;在 GitHub 上發佈／編輯&lt;/h2&gt;&lt;p&gt;若是設定無誤，接下來要發佈或編輯文章即可直接利用 GitHub 網頁版來作編輯，不需要擔心作業系統沒有安裝相關環境而無法發佈或編輯文章囉！&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/images/editPost.png&quot; alt=&quot;edit post&quot; title=&quot;edit post&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;UPDATE：&lt;/strong&gt;發現 Travis CI 發佈的結果可能會跟實際時間對不起來，如圖：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/images/TZIncorrect.png&quot; alt=&quot;time zone incorrect&quot; title=&quot;time zone incorrect&quot;&gt;&lt;/p&gt;
&lt;p&gt;後來發現是因為我在 Hexo 中設定了時區為 Asia/Taipei，而 Travis CI 所提供的機器時區不一樣而造成的，將 Travis CI 一樣設定為 Asia/Taipei 即可解決問題。&lt;/p&gt;
&lt;figure class=&quot;highlight armasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;before_install:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;  - &lt;span class=&quot;preprocessor&quot;&gt;export&lt;/span&gt; TZ&lt;span class=&quot;label&quot;&gt;=Asia&lt;/span&gt;/Taipei&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;這是我最後的 &lt;a href=&quot;https://github.com/ssk7833/blog/blob/master/.travis.yml&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;.travis.yml 設定&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;參考資料：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;https://farseerfc.me/zhs/travis-push-to-github-pages-blog.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;用 Travis-CI 生成 Github Pages 博客 &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://changyuheng.me/2015/when-hexo-static-site-meets-github-pages-and-travis-ci/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;When Hexo Meets GitHub Pages and Travis CI plus Raspberry Pi&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;先前看到了&lt;a href=&quot;https://samkuo.me/post/2015/09/why-developers-should-hav
    
    </summary>
    
      <category term="study" scheme="http://ssk7833.github.io/blog/categories/study/"/>
    
    
      <category term="gf-pages" scheme="http://ssk7833.github.io/blog/tags/gf-pages/"/>
    
      <category term="hexo" scheme="http://ssk7833.github.io/blog/tags/hexo/"/>
    
      <category term="travis ci" scheme="http://ssk7833.github.io/blog/tags/travis-ci/"/>
    
  </entry>
  
  <entry>
    <title>HTML5 fullscreen API 將 iframe 以全螢幕顯示</title>
    <link href="http://ssk7833.github.io/blog/2016/01/10/show-iframe-in-fullscreen-by-html5-fullscreen-api/"/>
    <id>http://ssk7833.github.io/blog/2016/01/10/show-iframe-in-fullscreen-by-html5-fullscreen-api/</id>
    <published>2016-01-09T20:10:05.000Z</published>
    <updated>2016-04-08T03:51:06.137Z</updated>
    
    <content type="html">&lt;p&gt;最近因為有把 iframe 內容以全螢幕顯示的需求，因此研究了一下 HTML5 fullscreen API。已有現成的 library 可以用如 &lt;a href=&quot;https://sindresorhus.com/screenfull.js/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;screenfull.js&lt;/a&gt; 及 &lt;a href=&quot;https://brad.is/coding/BigScreen/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;BigScreen&lt;/a&gt;，但大致上並不難，因此我選擇了純 javascript 來撰寫看看。&lt;/p&gt;
&lt;p&gt;要全螢幕其實並不難，只要呼叫 &lt;code&gt;requestFullscreen()&lt;/code&gt; 即可做到，以下是簡易範例：&lt;/p&gt;
&lt;figure class=&quot;highlight dart&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; button = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;built_in&quot;&gt;querySelector&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;#container .button&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;button.addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;click&#39;&lt;/span&gt;, fullscreen);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;function fullscreen() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// check if fullscreen mode is available&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.fullscreenEnabled ||&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.webkitFullscreenEnabled ||&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.mozFullScreenEnabled ||&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.msFullscreenEnabled) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// which element will be fullscreen&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; iframe = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;built_in&quot;&gt;querySelector&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;#container iframe&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Do fullscreen&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (iframe.requestFullscreen) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      iframe.requestFullscreen();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (iframe.webkitRequestFullscreen) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      iframe.webkitRequestFullscreen();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (iframe.mozRequestFullScreen) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      iframe.mozRequestFullScreen();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (iframe.msRequestFullscreen) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      iframe.msRequestFullscreen();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;built_in&quot;&gt;querySelector&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;.error&#39;&lt;/span&gt;).innerHTML = &lt;span class=&quot;string&quot;&gt;&#39;Your browser is not supported&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;此範例即可讓當所選擇的 &lt;code&gt;#container .button&lt;/code&gt; 被點擊時，讓 &lt;code&gt;#container iframe&lt;/code&gt; 全螢幕。&lt;/p&gt;
&lt;p&gt;但因為 iframe 的內容並非我可以控制的，有些 iframe 的內容沒有處理 RWD，因此當頁面縮放時可能會呈現未預期的效果，如：&lt;a href=&quot;http://codepen.io/kanaparty/pen/eJYXeZ&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ぶつからないように動くビークル&lt;/a&gt;（找了一下 codepen 才找到一個可用範例）。要做到這點，我目前選擇當 iframe 被全螢幕時則重新載入一次，當然，當 iframe 從全螢幕離開時也會再 resize 一次，因此也要注意離開全螢幕時也得處理。&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// reload&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;iframe&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.src&lt;/span&gt; = &lt;span class=&quot;tag&quot;&gt;iframe&lt;/span&gt;.src&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;原本我認為應將重新載入寫在 request fullscreen 之後，而當觸發 keydown event 時再觸發一次重新載入，後來發現在全螢幕時按下 ESC 時 keydown event 都不會被觸發(chrome, firefox)，而按下 F11 則是 Firefox 會觸發而 Chrome 不會，因此認為這應該不是個好寫法。&lt;/p&gt;
&lt;p&gt;後來在 &lt;a href=&quot;http://www.sitepoint.com/use-html5-full-screen-api/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;How to Use the HTML5 Full-Screen API (Again)&lt;/a&gt; 發現有 fullscreenchange event 可以用，因此也改用這個，原本放在全螢幕後的重新載入也改成放於 event listener 內，程式碼也簡潔多了！&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// when you are in fullscreen, ESC and F11 may not be trigger by keydown listener.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// so don&#39;t use it to detect exit fullscreen&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;keydown&#39;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&#39;key press&#39;&lt;/span&gt; + e.keyCode);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// detect enter or exit fullscreen mode&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;webkitfullscreenchange&#39;&lt;/span&gt;, fullscreenChange);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;mozfullscreenchange&#39;&lt;/span&gt;, fullscreenChange);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;fullscreenchange&#39;&lt;/span&gt;, fullscreenChange);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;MSFullscreenChange&#39;&lt;/span&gt;, fullscreenChange);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;fullscreenChange&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.fullscreenEnabled ||&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.webkitIsFullScreen ||&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.mozFullScreen ||&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.msFullscreenElement) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&#39;enter fullscreen&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&#39;exit fullscreen&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// force to reload iframe once to prevent the iframe source didn&#39;t care about trying to resize the window&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// comment this line and you will see&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; iframe = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.querySelector(&lt;span class=&quot;string&quot;&gt;&#39;iframe&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  iframe.src = iframe.src;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;以下為測試的範例，可以試著把 &lt;code&gt;iframe.src = iframe.src;&lt;/code&gt; 註解掉，即可看到改造前後的差異：&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;p data-height=&quot;268&quot; data-theme-id=&quot;0&quot; data-slug-hash=&quot;mVOXXp&quot; data-default-tab=&quot;result&quot; data-user=&quot;ssk7833&quot; class=&quot;codepen&quot;&gt;See the Pen &lt;a href=&quot;http://codepen.io/ssk7833/pen/mVOXXp/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Fullscreen API on iframe&lt;/a&gt; by North (&lt;a href=&quot;http://codepen.io/ssk7833&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;@ssk7833&lt;/a&gt;) on &lt;a href=&quot;http://codepen.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CodePen&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
&lt;script async src=&quot;//assets.codepen.io/assets/embed/ei.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;參考資料：&lt;br&gt;&lt;a href=&quot;http://codepen.io/kanaparty/pen/eJYXeZ&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ぶつからないように動くビークル&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Fullscreen_API&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Using fullscreen mode - Web APIs | MDN&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.sitepoint.com/use-html5-full-screen-api/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;How to Use the HTML5 Full-Screen API (Again) - SitePoint&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;最近因為有把 iframe 內容以全螢幕顯示的需求，因此研究了一下 HTML5 fullscreen API。已有現成的 library 可以用如 &lt;a href=&quot;https://sindresorhus.com/screenfull.js/&quot; target=&quot;_blan
    
    </summary>
    
      <category term="study" scheme="http://ssk7833.github.io/blog/categories/study/"/>
    
    
      <category term="javascript" scheme="http://ssk7833.github.io/blog/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>Facebook Graph API 取得大頭貼照</title>
    <link href="http://ssk7833.github.io/blog/2015/08/25/facebook-graph-api-get-picture/"/>
    <id>http://ssk7833.github.io/blog/2015/08/25/facebook-graph-api-get-picture/</id>
    <published>2015-08-24T19:11:56.000Z</published>
    <updated>2016-04-08T03:51:06.137Z</updated>
    
    <content type="html">&lt;p&gt;要取得大頭貼照，如果使用 API request ，加上 picture 即可得到大頭貼照，如：&lt;code&gt;me?fields=id,name,picture&lt;/code&gt;，即可在回傳的 JSON 中取得圖片的位址，但這時取回來的圖片會比正常大小還要小，而且此方法還需要 access_token。&lt;/p&gt;
&lt;p&gt;要取得不同大小的大頭貼照，有個更輕鬆的方法：&lt;code&gt;http://graph.facebook.com/{id}/picture?type=normal&lt;/code&gt; 直接使用此網址，將 id 換成想呈現的 userId 即可，此網址將會 redirect 到對應的圖片位址，且此方法不需要 access_token。&lt;/p&gt;
&lt;p&gt;在這個網址中，type 可為 &lt;code&gt;small&lt;/code&gt;, &lt;code&gt;normal&lt;/code&gt;, &lt;code&gt;album&lt;/code&gt;, &lt;code&gt;large&lt;/code&gt;, &lt;code&gt;square&lt;/code&gt;，分別為不同解析度的照片大小。&lt;/p&gt;
&lt;p&gt;以 Facebook 的創始人 Mark Zuckerberg 為例，userId 為 4，則要顯示的網址如下：&lt;br&gt;50*50:&lt;br&gt;&lt;code&gt;http://graph.facebook.com/4/picture?type=small&lt;/code&gt;&lt;br&gt;&lt;img src=&quot;http://graph.facebook.com/4/picture?type=small&quot; alt=&quot;Small&quot; title=&quot;Mark Zuckerberg&quot;&gt;&lt;br&gt;&lt;code&gt;http://graph.facebook.com/4/picture?type=album&lt;/code&gt;&lt;br&gt;&lt;img src=&quot;http://graph.facebook.com/4/picture?type=album&quot; alt=&quot;Album&quot; title=&quot;Mark Zuckerberg&quot;&gt;&lt;br&gt;&lt;code&gt;http://graph.facebook.com/4/picture?type=square&lt;/code&gt;&lt;br&gt;&lt;img src=&quot;http://graph.facebook.com/4/picture?type=square&quot; alt=&quot;Square&quot; title=&quot;Mark Zuckerberg&quot;&gt;&lt;/p&gt;
&lt;p&gt;100*100:&lt;br&gt;&lt;code&gt;http://graph.facebook.com/4/picture?type=normal&lt;/code&gt;&lt;br&gt;&lt;img src=&quot;http://graph.facebook.com/4/picture?type=normal&quot; alt=&quot;Normal&quot; title=&quot;Mark Zuckerberg&quot;&gt;&lt;/p&gt;
&lt;p&gt;200*200:&lt;br&gt;&lt;code&gt;http://graph.facebook.com/4/picture?type=large&lt;/code&gt;&lt;br&gt;&lt;img src=&quot;http://graph.facebook.com/4/picture?type=large&quot; alt=&quot;Large&quot; title=&quot;Mark Zuckerberg&quot;&gt;&lt;/p&gt;
&lt;p&gt;不能理解的是為什麼 small, album, square 所得到的大小都一樣，還不知道差在哪。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;要取得大頭貼照，如果使用 API request ，加上 picture 即可得到大頭貼照，如：&lt;code&gt;me?fields=id,name,picture&lt;/code&gt;，即可在回傳的 JSON 中取得圖片的位址，但這時取回來的圖片會比正常大小還要小，而且此方法還需要 a
    
    </summary>
    
      <category term="study" scheme="http://ssk7833.github.io/blog/categories/study/"/>
    
    
      <category term="Facebook" scheme="http://ssk7833.github.io/blog/tags/Facebook/"/>
    
      <category term="Facebook-Graph-API" scheme="http://ssk7833.github.io/blog/tags/Facebook-Graph-API/"/>
    
  </entry>
  
  <entry>
    <title>Facebook Graph API 回傳指定語言/地區化姓名</title>
    <link href="http://ssk7833.github.io/blog/2015/07/12/facebook-graph-api-returns-language-specific-name/"/>
    <id>http://ssk7833.github.io/blog/2015/07/12/facebook-graph-api-returns-language-specific-name/</id>
    <published>2015-07-12T10:49:43.000Z</published>
    <updated>2016-04-08T03:51:06.137Z</updated>
    
    <content type="html">&lt;p&gt;玩 Facebook Graph API 玩了一陣子才發現回傳的姓名總是是英文的，才想到若是有回傳中文姓名的需求時該怎麼辦，如此下去一找才發現關鍵字是 &lt;a href=&quot;https://www.facebook.com/help/217868321565724&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Language-specific name&lt;/a&gt;，而要如何在 Facebook Graph API 中顯示為中文則可以參考這篇中的 locale：&lt;a href=&quot;https://developers.facebook.com/docs/graph-api/using-graph-api/v2.0#readmodifiers&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Modifying API Requests&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;其實只要在 API request 中加上 &lt;code&gt;&amp;amp;locale=zh_TW&lt;/code&gt; 即可得到中文姓名，如：&lt;code&gt;me?fields=id,name&amp;amp;locale=zh_TW&lt;/code&gt;，只是有趣的是我稍微測了一下 locale 給以開頭 &lt;code&gt;en_&lt;/code&gt; 以外的任何值都會取得中文名稱，還以為預設會以英文為主。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;玩 Facebook Graph API 玩了一陣子才發現回傳的姓名總是是英文的，才想到若是有回傳中文姓名的需求時該怎麼辦，如此下去一找才發現關鍵字是 &lt;a href=&quot;https://www.facebook.com/help/217868321565724&quot; targe
    
    </summary>
    
      <category term="study" scheme="http://ssk7833.github.io/blog/categories/study/"/>
    
    
      <category term="Facebook" scheme="http://ssk7833.github.io/blog/tags/Facebook/"/>
    
      <category term="Facebook-Graph-API" scheme="http://ssk7833.github.io/blog/tags/Facebook-Graph-API/"/>
    
      <category term="localization" scheme="http://ssk7833.github.io/blog/tags/localization/"/>
    
  </entry>
  
  <entry>
    <title>使用 Parse.com Cloud Code Hosting 進行 Facebook 登入存取 3</title>
    <link href="http://ssk7833.github.io/blog/2015/07/02/using-parsecom-cloud-code-hosting-to-log-in-with-facebook-3/"/>
    <id>http://ssk7833.github.io/blog/2015/07/02/using-parsecom-cloud-code-hosting-to-log-in-with-facebook-3/</id>
    <published>2015-07-01T16:11:49.000Z</published>
    <updated>2016-04-08T03:51:06.137Z</updated>
    
    <content type="html">&lt;p&gt;繼上一篇成功截取出使用者資料後，發現除了基本資料外，朋友、按讚的資訊等資料其實都抓不出來，原因是因為沒有給予 app 存取這些資訊的權限。要求權限的話可以透過 OAuth 來索取 access token ，其範例網址如下：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;https://www.facebook.com/dialog/oauth?client_id={appId}&amp;amp;redirect_uri={redirectURI}&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/images/profile.png&quot; alt=&quot;Profile&quot; title=&quot;Profile&quot;&gt;&lt;br&gt;&lt;img src=&quot;/blog/images/profile02.png&quot; alt=&quot;Profile details&quot; title=&quot;Profile Details&quot;&gt;&lt;/p&gt;
&lt;p&gt;這是一個截取基本權限的網址，appId 指的是每一個 app 獨立的 ID，而 redirectURI 是當 OAuth 通過後，會送發一串 code 到這個 redirectURI 去，而若需要要求其他權限，可以增加 scope 屬性如下：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;https://www.facebook.com/dialog/oauth?client_id={appId}&amp;amp;redirect_uri={redirectURI}&amp;amp;scope={accessPermissions}&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;這個 scope 以逗號作為分隔，填在裡面的將會在 Facebook dialog 中要求權限。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/images/user_friends.png&quot; alt=&quot;Profile with friends&quot; title=&quot;Profile with friends&quot;&gt;&lt;br&gt;&lt;img src=&quot;/blog/images/user_friends02.png&quot; alt=&quot;Profile with friends details&quot; title=&quot;Profile with friends details&quot;&gt;&lt;/p&gt;
&lt;p&gt;講了這麼多，但以&lt;a href=&quot;http://north.logdown.com/posts/280761-using-parsecom-cloud-code-hosting-to-log-in-with-facebook&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;第一篇&lt;/a&gt;中使用了&lt;a href=&quot;https://github.com/ParsePlatform/parse-facebook-user-session&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;parse-facebook-user-session&lt;/a&gt;該怎麼修改呢？稍微翻了它的 source code 後發現它在實作上並沒有保留 scope 欄位，因此我便把 scope 加上去了，可以由此瀏覽：&lt;a href=&quot;https://github.com/ssk7833/parse-facebook-user-session&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;parse-facebook-user-session&lt;/a&gt;&lt;br&gt;&lt;strong&gt;UPDATE：&lt;/strong&gt;原 repository 已經將此功能 merge上 去，直接使用原本的即可&lt;/p&gt;
&lt;p&gt;使用方式的話則與先前的沒什麼差別，只是可以選擇多填一個 scope 欄位，範例如下：&lt;br&gt;&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.use&lt;/span&gt;(&lt;span class=&quot;function&quot;&gt;parseFacebookUserSession&lt;/span&gt;(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;clientId&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;YOUR_FB_CLIENT_ID&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;appSecret&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;YOUR_FB_APP_SECRET&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;redirectUri&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;/login&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;scope&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;user_friends,user_likes&#39;&lt;/span&gt;, &lt;span class=&quot;comment&quot;&gt;// 要求friends與like資訊&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;));&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;至於有哪些權限可以要求，可以當&lt;a href=&quot;https://developers.facebook.com/tools/explorer/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://developers.facebook.com/tools/explorer/&lt;/a&gt;中，點選 Get Access Token 來參考，並且在下面做測試。&lt;/p&gt;
&lt;p&gt;不過要注意的有像是 &lt;code&gt;user_friends&lt;/code&gt; 這項，如果在 API v2.0 以上的版本上要求資訊的話，只會列出同樣有授權此 app 的好友出來，開了幾個 test users 測試的確如此：&lt;/p&gt;
&lt;p&gt;很可憐沒有朋友授權此 APP：&lt;br&gt;&lt;figure class=&quot;highlight json&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &quot;&lt;span class=&quot;attribute&quot;&gt;id&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;104342733239984&quot;&lt;/span&gt;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &quot;&lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;Hello world&quot;&lt;/span&gt;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &quot;&lt;span class=&quot;attribute&quot;&gt;friends&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &quot;&lt;span class=&quot;attribute&quot;&gt;data&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;[]&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &quot;&lt;span class=&quot;attribute&quot;&gt;summary&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &quot;&lt;span class=&quot;attribute&quot;&gt;total_count&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;可以看到 summary 中，total_count 為 1，但 data 中無資料。&lt;/p&gt;
&lt;p&gt;有朋友也授權此 APP：&lt;br&gt;&lt;figure class=&quot;highlight json&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &quot;&lt;span class=&quot;attribute&quot;&gt;id&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;1421116644879628&quot;&lt;/span&gt;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &quot;&lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;Doraemon Cat&quot;&lt;/span&gt;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &quot;&lt;span class=&quot;attribute&quot;&gt;friends&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &quot;&lt;span class=&quot;attribute&quot;&gt;data&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;[&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &quot;&lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;Open Graph Test User&quot;&lt;/span&gt;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &quot;&lt;span class=&quot;attribute&quot;&gt;id&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;1414470195545509&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;/span&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &quot;&lt;span class=&quot;attribute&quot;&gt;name&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;Monkey D Luffy&quot;&lt;/span&gt;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &quot;&lt;span class=&quot;attribute&quot;&gt;id&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;100347703641647&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ]&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &quot;&lt;span class=&quot;attribute&quot;&gt;paging&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &quot;&lt;span class=&quot;attribute&quot;&gt;next&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;https://graph.facebook.com/1421116644879628/friends?limit=25&amp;amp;offset=25&amp;amp;__after_id=enc_AdAMpWdRxSLZAvND6bEd0htyyGsZAZBvzP6jzoAIZBKS9EiBSndZCNZC3S1AC5TEYchbuuBSV0xvg7ziwO4Cdt843yZApF&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&amp;#125;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &quot;&lt;span class=&quot;attribute&quot;&gt;summary&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &quot;&lt;span class=&quot;attribute&quot;&gt;total_count&lt;/span&gt;&quot;: &lt;span class=&quot;value&quot;&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;可以看到此 test user 有兩個朋友也都有安裝此 app。&lt;/p&gt;
&lt;p&gt;至於怎麼得到 test user 的 access token，我是利用 Parse.com 的 API Console，Endpoint 填入 users 且 Use Master Key 改成 Yes，send request 後即可在 response 中看到 access token，即可複製此 token 到 &lt;a href=&quot;https://developers.facebook.com/tools/explorer/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://developers.facebook.com/tools/explorer/&lt;/a&gt; 中做測試，如下圖。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/images/APIconsole02.png&quot; alt=&quot;API console&quot; title=&quot;API console&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;繼上一篇成功截取出使用者資料後，發現除了基本資料外，朋友、按讚的資訊等資料其實都抓不出來，原因是因為沒有給予 app 存取這些資訊的權限。要求權限的話可以透過 OAuth 來索取 access token ，其範例網址如下：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;https://www
    
    </summary>
    
      <category term="study" scheme="http://ssk7833.github.io/blog/categories/study/"/>
    
    
      <category term="CloudCode" scheme="http://ssk7833.github.io/blog/tags/CloudCode/"/>
    
      <category term="Facebook" scheme="http://ssk7833.github.io/blog/tags/Facebook/"/>
    
      <category term="Parse.com" scheme="http://ssk7833.github.io/blog/tags/Parse-com/"/>
    
      <category term="node.js" scheme="http://ssk7833.github.io/blog/tags/node-js/"/>
    
  </entry>
  
  <entry>
    <title>使用 Parse.com Cloud Code Hosting 進行 Facebook 登入存取 2</title>
    <link href="http://ssk7833.github.io/blog/2015/06/20/using-parsecom-cloud-code-hosting-to-log-in-with-facebook-2/"/>
    <id>http://ssk7833.github.io/blog/2015/06/20/using-parsecom-cloud-code-hosting-to-log-in-with-facebook-2/</id>
    <published>2015-06-20T15:43:39.000Z</published>
    <updated>2016-04-08T03:51:06.137Z</updated>
    
    <content type="html">&lt;p&gt;延續上一篇，成功使用 Facebook 登入 Parse.com 的使用者資訊後，接著就是怎麼從使用者資訊中取得 Facebook 的資料了。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/images/user.png&quot; alt=&quot;User&quot; title=&quot;User&quot;&gt;&lt;br&gt;以上圖的 Facebook Test Users 為例，建立完的使用者可以由 Parse.com 的 Data 中看到，不過 authData 卻只顯示了 Facebook 的 ID，因此我們可以先透過 API Console 來對 users 作存取，這裡要注意的是 Use Master Key 記得要選 Yes，否則會沒有權限看 authData 的內容；users 後面的參數為 objectId，若不放置則會列出全部符合的資料。&lt;br&gt;&lt;img src=&quot;/blog/images/APIconsole.png&quot; alt=&quot;API console&quot; title=&quot;API console&quot;&gt;&lt;br&gt;在 Response 中的內容：&lt;br&gt;&lt;figure class=&quot;highlight clojure&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;collection&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;authData&quot;&lt;/span&gt;: &lt;span class=&quot;collection&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;facebook&quot;&lt;/span&gt;: &lt;span class=&quot;collection&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      // 不要想對這組 access_token 亂來，因為是 test user XD&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;string&quot;&gt;&quot;access_token&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;CAAMCk3Pv7SkBAEjfvRaG4SrC8k3CXak1843iisuUJiIK9gYV9PNFRraXi9gxYVBJO83zsvzFO91dcACevKwinxAVPNCUeEv0UPWsmv7DZBlqPjtZCCnEBcMBKpU7ikoj9OKo1ZCwzi3wmTycsB2avHT1SiBxLUF5ZAHTaT9XDNtz1phGZCk0lltOY5agj0JGQ9ezNGmOsvUmdpKFASx5K&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;string&quot;&gt;&quot;expiration_date&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;2015-08-15T17:52:46.495Z&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;string&quot;&gt;&quot;id&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;118563748477765&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;createdAt&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;2015-06-16T17:52:48.623Z&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;Super Mario&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;objectId&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;wmVm7Qb1Fc&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;sessionToken&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;jEKKzfbDcIN0CmBIvsdZR9Aoc&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;updatedAt&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;2015-06-17T07:57:08.934Z&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;username&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;3GwDpgmuqmfnyGYINNI27W9fO&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;已經知道存放在哪裡之後，接下來就是利用 cloud code function 建立資料存取了！在這裡我用名字與圖片作範例，參考了 &lt;a href=&quot;http://stackoverflow.com/a/16445118/4968420&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;stackoverflow 這篇的回答&lt;/a&gt;稍微修改了一下：&lt;br&gt;當然，別忘記 userMasterKey…&lt;br&gt;&lt;figure class=&quot;highlight actionscript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Parse.Cloud.define(&lt;span class=&quot;string&quot;&gt;&quot;facebook&quot;&lt;/span&gt;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(request, response)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Parse.Cloud.useMasterKey();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Parse.Query(Parse.User).&lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt;(request.params.user_id).then(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(user)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; authData = user.&lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;authData&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Quit early for users who aren&#39;t linked with Facebook&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (authData === &lt;span class=&quot;literal&quot;&gt;undefined&lt;/span&gt; || authData.facebook === &lt;span class=&quot;literal&quot;&gt;undefined&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      response.success(&lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; Parse.Cloud.httpRequest(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      method: &lt;span class=&quot;string&quot;&gt;&quot;GET&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      url: &lt;span class=&quot;string&quot;&gt;&quot;https://graph.facebook.com/me&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      params: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        access_token: authData.facebook.access_token,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        fields: &lt;span class=&quot;string&quot;&gt;&quot;name, friends&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;).then(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(json)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    response.success(json.data);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// Promises will let you bubble up any error, similar to a catch statement&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(error)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    response.error(error);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;在 Express 中 call 建立好的 cloud host function：&lt;br&gt;&lt;figure class=&quot;highlight actionscript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;app.&lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;/test&#39;&lt;/span&gt;, fbLogin, &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(req, res)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; user = Parse.User.current();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Parse.Cloud.run(&lt;span class=&quot;string&quot;&gt;&#39;facebook&#39;&lt;/span&gt;, &amp;#123; user_id: user.id &amp;#125;, &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    success: &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(results)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      res.send(&lt;span class=&quot;string&quot;&gt;&#39;Congrats, you are logged in, &#39;&lt;/span&gt; + results.name + &lt;span class=&quot;string&quot;&gt;&#39;!&#39;&lt;/span&gt; +  &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;img src=&quot;https://graph.facebook.com/&#39;&lt;/span&gt;+ results.id +&lt;span class=&quot;string&quot;&gt;&#39;/picture?type=normal&quot;&amp;gt;&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    error: &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(error)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      console.log(&lt;span class=&quot;string&quot;&gt;&quot;error :&quot;&lt;/span&gt; + error);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;若是成功的話就能在自己的 URL 中看到如下圖的結果了！&lt;br&gt;&lt;img src=&quot;/blog/images/facebookSuccess.png&quot; alt=&quot;Facebook success&quot; title=&quot;Facebook success&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;延續上一篇，成功使用 Facebook 登入 Parse.com 的使用者資訊後，接著就是怎麼從使用者資訊中取得 Facebook 的資料了。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/images/user.png&quot; alt=&quot;User&quot; title=&quot;User&quot;&gt;&lt;
    
    </summary>
    
      <category term="study" scheme="http://ssk7833.github.io/blog/categories/study/"/>
    
    
      <category term="CloudCode" scheme="http://ssk7833.github.io/blog/tags/CloudCode/"/>
    
      <category term="Facebook" scheme="http://ssk7833.github.io/blog/tags/Facebook/"/>
    
      <category term="Parse.com" scheme="http://ssk7833.github.io/blog/tags/Parse-com/"/>
    
      <category term="node.js" scheme="http://ssk7833.github.io/blog/tags/node-js/"/>
    
  </entry>
  
  <entry>
    <title>使用 Parse.com Cloud Code Hosting 進行 Facebook 登入存取 1</title>
    <link href="http://ssk7833.github.io/blog/2015/06/20/using-parsecom-cloud-code-hosting-to-log-in-with-facebook-1/"/>
    <id>http://ssk7833.github.io/blog/2015/06/20/using-parsecom-cloud-code-hosting-to-log-in-with-facebook-1/</id>
    <published>2015-06-20T14:13:10.000Z</published>
    <updated>2016-04-08T03:51:06.133Z</updated>
    
    <content type="html">&lt;p&gt;&lt;a href=&quot;http://parse.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Parse.com&lt;/a&gt; 在 &lt;a href=&quot;https://parse.com/docs/tw/js/guide&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;javascript SDK&lt;/a&gt; 中提供了使用者的存取，其中包含 Facebook 的整合，但 javascript 終究是前端，有些不想讓 client end知道的還是放在後端處理比較好。然而 Parse.com 所提供的 cloud code 所使用的目前雖是 node.js，會讓開發者很想直接把 javascript SDK 的 Facebook 部分塞進去看能不能跑，乍看之下很合理，但實際上就是不行，因為以 Parse.com Javascript SDK在要求登入時會跳出另一個瀏覽器視窗以要求登入 Facebook 及權限給予，而這個視窗當然沒有辦法在 server end 中呈現並要求 client end 進行認證。&lt;/p&gt;
&lt;p&gt;在官方論壇上也有人發表過此問題：&lt;a href=&quot;https://www.parse.com/questions/interacting-with-the-facebook-api-in-cloud-code&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Interacting with the Facebook API in Cloud Code&lt;/a&gt;&lt;br&gt;所得到的回答是：&lt;br&gt;&lt;strong&gt;Unfortunately, the Facebook JavaScript SDK is not made to work outside of a browser, so using it directly from Cloud Code is not supported at the moment.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;You can, however, get the authData from the current user in cloud code and use that to make a REST call to Facebook’s graph API manually.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;因此我轉而研究使用OAuth方式來登入Facebook，除了跳轉出的頁面比較美觀外（不會產生另一個瀏覽器視窗），也不用擔心暴露資訊給clent end，參考資料有這兩篇：&lt;br&gt;&lt;a href=&quot;http://sweeteason.pixnet.net/blog/post/40581580-%E7%B6%B2%E7%AB%99%E5%88%A9%E7%94%A8-facebook-%E5%B8%B3%E8%99%9F%E7%99%BB%E5%85%A5-%28%E4%BD%BF%E7%94%A8-oauth%29&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;網站利用 Facebook 帳號登入 (使用 OAuth)&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://gigenchang.wordpress.com/2014/01/26/10%E5%88%86%E9%90%98%E7%90%86%E8%A7%A3oauth%E5%92%8Cfacebook%E7%99%BB%E5%85%A5%E5%8E%9F%E7%90%86/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;10分鐘理解OAuth和facebook登入原理&lt;/a&gt;&lt;br&gt;這篇以python Django framework實作，其實看code好像也蠻容易理解的：&lt;a href=&quot;http://nthn.me/posts/2012/facebook-registration.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Ghetto Facebook Registration with Django&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;後來正當我開始打算實作時，我找到了 &lt;a href=&quot;https://github.com/ParsePlatform/parse-facebook-user-session&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;parse-facebook-user-session&lt;/a&gt; ，原來 Parse.com 早就把這個寫好了，根本不用自己去寫了，只需要按照他的說明一步一步來就行了（吧）！&lt;/p&gt;
&lt;p&gt;結果證明事情果然不是我想的這麼簡單，不管怎麼弄就是跳出 &lt;strong&gt;209 invalid session token&lt;/strong&gt; ，花了一段時間後找到 Parse.com 自己發的文章 &lt;a href=&quot;https://www.parse.com/tutorials/session-migration-tutorial&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Session Migration Tutorial&lt;/a&gt; ，才知道把這個選項關掉就行了，我花了這麼久到底在幹麻！&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/blog/images/userSessions.png&quot; alt=&quot;User sessions&quot; title=&quot;User sessions&quot;&gt;&lt;br&gt;總之，關閉這個選項後就成功了， Parse.com 的資料庫也會成功紀錄登入過的使用者，事情完成一半，其餘的就是登入的使用者資料該怎麼讀取出來了～&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;UPDATE：&lt;/strong&gt;在GitHub上新增了 &lt;a href=&quot;https://loginexample.parseapp.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;demo&lt;/a&gt;：&lt;a href=&quot;https://github.com/ssk7833/Parse-Facebook-OAuth-login-example&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;http://parse.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Parse.com&lt;/a&gt; 在 &lt;a href=&quot;https://parse.com/docs/tw/js/guide&quot; target=&quot;_blank&quot; r
    
    </summary>
    
      <category term="study" scheme="http://ssk7833.github.io/blog/categories/study/"/>
    
    
      <category term="CloudCode" scheme="http://ssk7833.github.io/blog/tags/CloudCode/"/>
    
      <category term="Facebook" scheme="http://ssk7833.github.io/blog/tags/Facebook/"/>
    
      <category term="Parse.com" scheme="http://ssk7833.github.io/blog/tags/Parse-com/"/>
    
      <category term="node.js" scheme="http://ssk7833.github.io/blog/tags/node-js/"/>
    
  </entry>
  
  <entry>
    <title>將 cd 跟 ls 合併為一個指令</title>
    <link href="http://ssk7833.github.io/blog/2011/01/18/combine-cd-and-ls-into-one-command/"/>
    <id>http://ssk7833.github.io/blog/2011/01/18/combine-cd-and-ls-into-one-command/</id>
    <published>2011-01-17T17:45:05.000Z</published>
    <updated>2016-01-07T16:47:05.000Z</updated>
    
    <content type="html">&lt;p&gt;用 alias, script, unix programing 都無法達到更換資料夾後並印出資料夾內容的功能&lt;br&gt;最後測試只有 function 可以。&lt;/p&gt;
&lt;p&gt;若是 bash shell，將 .bashrc 增加下列程式碼後重新載入 .bashrc 即可。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cds() { cd &amp;quot;$1&amp;quot;; ls; }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;接著只要執行 cds 指令即可。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;用 alias, script, unix programing 都無法達到更換資料夾後並印出資料夾內容的功能&lt;br&gt;最後測試只有 function 可以。&lt;/p&gt;
&lt;p&gt;若是 bash shell，將 .bashrc 增加下列程式碼後重新載入 .bashrc 即可。&lt;/p
    
    </summary>
    
      <category term="study" scheme="http://ssk7833.github.io/blog/categories/study/"/>
    
    
      <category term="shell script" scheme="http://ssk7833.github.io/blog/tags/shell-script/"/>
    
  </entry>
  
</feed>
